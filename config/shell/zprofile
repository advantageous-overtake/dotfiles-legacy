# systemd doesn't setup environment variables for new sessions

if [ `systemctl --user is-active ssh-agent` = "active" ]; then
  eval `systemctl --user show ssh-agent --property Environment --value`
  SSH_AGENT_PID=`systemctl --user show ssh-agent --property MainPID --value`
fi

export SSH_A{UTH_SOCK,GENT_PID}

# tty1 is allocated for X, further allocations correspond for a shell session.
if [ -z "${DISPLAY}" ] && [ "${XDG_VTNR}" -eq 1 ]; then
  exec xinit
else
  exec zellij
fi
